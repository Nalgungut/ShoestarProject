<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.shoestar.admin.event.dao.AdminEventDAO">
	<!-- 이벤트 조회 -->
	<select id="eventList" resultType="event">
				SELECT
				    ev_no,
				    ev_title,
				    ev_content,
				    ev_img,
				    ev_thumb,
				    ev_date,
				    ev_edate
				FROM
				    event
				WHERE
				<![CDATA[
					ev_edate >= trunc(sysdate) or ev_edate is null
				]]>
				order by ev_date asc
				
	</select>
	
	<!-- 관리자 이벤트 조회 -->
	<select id="AdmineventList" resultType="event">
				SELECT
				    ev_no,
				    ev_title,
				    ev_content,
				    ev_img,
				    ev_thumb,
				    ev_date,
				    ev_edate
				FROM
				    event
	</select>
	
	<!-- 갤러리 상세 -->
	<select id = "eventDetail" parameterType="event" resultType="event">
				SELECT 
					ev_no, 
					ev_title, 
					ev_content, 
					ev_img,
					ev_date, 
					ev_edate
				FROM 
					event 
				WHERE 
					ev_no = #{ev_no}
	</select>
	
</mapper>